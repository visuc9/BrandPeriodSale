@using Driven.App.BrandPeriodSalesReporting.Models
@using Driven.App.BrandPeriodSalesReporting.Helpers

@model SalesCorrectionListViewModel

@{
    ViewBag.Title = "Franchise Invoice Reporting Module";
}

<style>
    .form-inline {
        padding-top: 20px;
        padding-bottom: 10px !important;
    }
</style>

@Html.Partial("_AntiForgeryPartial", "__AjaxAntiForgeryForm")
@Html.HiddenFor(m => m.IsAdmin)
@Html.HiddenFor(m => m.IsApprover)

<div>

    <div id="brandPeriodSalesTableSpinner" style="clear: both; float: left; position: relative">
        <br />
        <img src="@Url.Content("~/Content/Images/dots.gif")">
    </div>

    <div id="brandPeriodSalesTableContainer" style="display:none">

        <div class="form-inline pull-left">
            <div class="form-group" style="padding-right:15px">
                @Html.LabelFor(m => m.StoreId)
                @Html.DropDownListFor(m => m.StoreId, Model.StoreIds, "All", new { @class = "form-control" })
            </div>

            <div class="form-group" style="padding-right:15px">
                @Html.LabelFor(m => m.PeriodEndDate)
                @Html.DropDownListFor(m => m.PeriodEndDate, Model.PeriodEndDates, "All", new { @class = "form-control" })
            </div>

            <div class="form-group" style="padding-right:15px">
                @Html.LabelFor(m => m.StatusId)
                @Html.DropDownListFor(m => m.StatusId, Model.StatusIds, "All", new { @class = "form-control" })
            </div>
        </div>

        <div class="form-inline pull-right">
            <button id="CreateToplineCorrectionBtn" type="button" role="button" class="btn btn-primary">Submit Correction</button>
        </div>

        <table id="brandPeriodSalesTable" style="width:100%" class="table table-striped table-bordered table-condensed table-hover">
            <thead class="bg-info">
                <tr>
                    <th width="13%" style="text-align: center">Store #</th>
                    <th width="13%" style="text-align: center">Reporting Period</th>
                    <th width="13%" style="text-align: center">Status</th>
                    <th width="12%" style="text-align: center">Active Sales</th>
                    <th width="12%" style="text-align: center">Sales</th>
                    <th width="12%" style="text-align: center">Active Tickets</th>
                    <th width="12%" style="text-align: center">Tickets</th>
                    <th width="13%" style="text-align: center">Action</th>
                </tr>
            </thead>
        </table>
    </div>

</div>

<div class="modal fade" id="EditToplineCorrectionModal" data-backdrop="static" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg">
        <div id="EditToplineCorrectionPartialView"></div>
    </div>
</div>

<div class="clearfix"></div>

@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    @Scripts.Render("~/bundles/drivenappbrandperiodsalesreporting")
    @Scripts.Render("~/bundles/drivenappbrandperiodsalesreportingsalescorrectionsubmitcorrections")
}
